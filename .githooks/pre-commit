#!/usr/bin/env bash
# Simple git hook to run pre-commit safety checks
set -euo pipefail

# Run repository bloat checks â€” this will block commits if disallowed artifacts exist
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")/.." && pwd)/scripts"
if [ -x "$SCRIPT_DIR/check-for-bloat.sh" ]; then
  echo "Running pre-commit safety check..."
  "$SCRIPT_DIR/check-for-bloat.sh"
else
  echo "Warning: check-for-bloat.sh not found or not executable; skip safety checks"
fi

exit 0
