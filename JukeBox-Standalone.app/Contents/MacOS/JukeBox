#!/usr/bin/env bash
# Standalone JukeBox launcher with embedded Python
set -euo pipefail

# Get bundle paths
BUNDLE_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")/.." && pwd)"
PYTHON_DIR="$BUNDLE_DIR/Resources/python"
APP_DIR="$BUNDLE_DIR/Resources/app"
PYTHON_BIN="$PYTHON_DIR/bin/python"

# Change to app directory
cd "$APP_DIR"

# Set up environment
export PYTHONPATH="$APP_DIR"
export PYGAME_HIDE_SUPPORT_PROMPT=1

# Verify Python exists
if [ ! -x "$PYTHON_BIN" ]; then
    echo "Error: Embedded Python not found at $PYTHON_BIN"
    exit 1
fi

# Launch application
echo "Starting JukeBox with embedded Python..."
exec "$PYTHON_BIN" src/main.py
